using Decimals
using Test
using Decimals: @with_context

@testset "Abs" begin
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"1") == dec"1")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-1") == dec"1")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"1.00") == dec"1.00")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-1.00") == dec"1.00")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0") == dec"0")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0.00") == dec"0.00")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"00.0") == dec"0.0")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"00.00") == dec"0.00")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"00") == dec"0")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-2") == dec"2")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"2") == dec"2")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-2.00") == dec"2.00")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"2.00") == dec"2.00")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0") == dec"0")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.00") == dec"0.00")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-00.0") == dec"0.0")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-00.00") == dec"0.00")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-00") == dec"0")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-2000000") == dec"2000000")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"2000000") == dec"2000000")
@with_context (Emax = 384, Emin = -383, precision = 7, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-2000000") == dec"2000000")
@with_context (Emax = 384, Emin = -383, precision = 7, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"2000000") == dec"2000000")
@with_context (Emax = 384, Emin = -383, precision = 6, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-2000000") == dec"2.00000e+6")
@with_context (Emax = 384, Emin = -383, precision = 6, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"2000000") == dec"2.00000e+6")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-2000000") == dec"2.00e+6")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"2000000") == dec"2.00e+6")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"+0.1") == dec"0.1")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.1") == dec"0.1")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"+0.01") == dec"0.01")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.01") == dec"0.01")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"+0.001") == dec"0.001")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.001") == dec"0.001")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"+0.000001") == dec"0.000001")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.000001") == dec"0.000001")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"+0.000000000001") == dec"1e-12")
@with_context (Emax = 384, Emin = -383, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.000000000001") == dec"1e-12")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"2.1") == dec"2.1")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-100") == dec"100")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"101.5") == dec"101.5")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-101.5") == dec"101.5")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-56267e-10") == dec"0.0000056267")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-56267e-5") == dec"0.56267")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-56267e-2") == dec"562.67")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-56267e-1") == dec"5626.7")
@with_context (Emax = 384, Emin = -383, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-56267e-0") == dec"56267")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"1.00e-999") == dec"1.00e-999")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0.1e-999") == dec"1e-1000")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0.10e-999") == dec"1.0e-1000")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0.100e-999") == dec"1.0e-1000")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0.01e-999") == dec"1e-1001")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0.999e-999") == dec"1.00e-999")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0.099e-999") == dec"1.0e-1000")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0.009e-999") == dec"1e-1001")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0.001e-999") == dec"0e-1001")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0.0009e-999") == dec"0e-1001")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"0.0001e-999") == dec"0e-1001")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-1.00e-999") == dec"1.00e-999")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.1e-999") == dec"1e-1000")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.10e-999") == dec"1.0e-1000")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.100e-999") == dec"1.0e-1000")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.01e-999") == dec"1e-1001")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.999e-999") == dec"1.00e-999")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.099e-999") == dec"1.0e-1000")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.009e-999") == dec"1e-1001")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.001e-999") == dec"0e-1001")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.0009e-999") == dec"0e-1001")
@with_context (Emax = 999, Emin = -999, precision = 3, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"-0.0001e-999") == dec"0e-1001")
@with_context (Emax = 999, Emin = -999, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"12345678000") == dec"1.23456780e+10")
@with_context (Emax = 999, Emin = -999, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"1234567800") == dec"1.23456780e+9")
@with_context (Emax = 999, Emin = -999, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"1234567890") == dec"1.23456789e+9")
@with_context (Emax = 999, Emin = -999, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"1234567891") == dec"1.23456789e+9")
@with_context (Emax = 999, Emin = -999, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"12345678901") == dec"1.23456789e+10")
@with_context (Emax = 999, Emin = -999, precision = 9, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"1234567896") == dec"1.23456790e+9")
@with_context (Emax = 999, Emin = -999, precision = 15, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"12345678000") == dec"12345678000")
@with_context (Emax = 999, Emin = -999, precision = 15, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"1234567800") == dec"1234567800")
@with_context (Emax = 999, Emin = -999, precision = 15, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"1234567890") == dec"1234567890")
@with_context (Emax = 999, Emin = -999, precision = 15, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"1234567891") == dec"1234567891")
@with_context (Emax = 999, Emin = -999, precision = 15, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"12345678901") == dec"12345678901")
@with_context (Emax = 999, Emin = -999, precision = 15, rounding = RoundingMode{:NearestTiesAway}()) @test(abs(dec"1234567896") == dec"1234567896")
end
